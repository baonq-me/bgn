# Somewhat homomorphic encryption over elliptic curve using BGN algorithm

## Todo

* [x] Convert public key into human-friendly form.
* [ ] Write encrypt function
* [ ] Write decrypt function
* [ ] Convert plaintext or binary data into bit as a input for encryption/decryption process

## Installation (Ubuntu/Debian)

```
# apt-add-repository -y ppa:aims/sagemath
# apt-get update
# apt install sagemath-upstream-binary
```

### Test 

```
# sage -v
```

### Disable security warning

Add `export PYTHONWARNINGS="ignore:not adding directory '' to sys.path"` into `.bashrc`

## Run

```
# sage bgn.sage
```

### Running time

* ~ 18 seconds on i7-6820HQ (single core run at 3.6 GHz max)
* ~ 15 seconds on Xeon E5-2676 v3 (single core run at 3 GHz max)
* ~ 23 seconds on Xeon E5-2650 v4 (single core run at 2.9 GHz max)
* ~ 30 seconds on Xeon X5650 (single core run at 3.06 GHz max) (vCPU model is kvm64)
* ~ 19 seconds on Xeon X5650 (single core run at 3.06 GHz max) (vCPU model is host-passthrough)
* ~ 16 seconds on Xeon E5-2670 (single core run at 3.3 GHz max)
* ~ 17 seconds on Xeon E5-2683 v3 (single core run at 3 GHz max)
* ~ 25 seconds on Xeon E5-2683 v3 (single core run at 3 GHz max) (vCPU model is kvm64)
* ~ 17 seconds on Xeon E5-2683 v3 (single core run at 3.06 GHz max) (vCPU model is host-passthrough)

## Sample output

* Public key is in json format
* Private key is a number

```
Public key:  ["84283587452888786649520843421047168859240974378855871482617741604508448150560807860371978699795471213107935310491199621589611832202519811446746094976866604257831850135761767925818978636270431194891893934113849069240955201180174363274581170744116628715925831357534108191873822015238816986613941322141243332591", "(191496224079071913878661041007564849601715156113687683875771790046297370522981494156915681192166419198306760564544325199135281151559285488331292359815240953860045457931344604038471682661309629870724092643974725147647808990002073327433648318829330437425445761450311077239621877081515676558143197307460054088758813 : 408173336809668451660077641659619457975665622336125610699093795879213125648617290243728711933409004264615071767128692856781152795758724296591231323150683546825467748778739615836983206080405968325977693943631931629362789845279518029996464830655782516620455602951667032901778976667657849682365556057088485958458458 : 1)", "(497821825400435405334604329636210721004959672767126901036944288081418770063195684687282646046979593443596828098160299469404648380643358059136842020789116073649826646892454321760691080804128929173984455890376729278284701787908495284022332038049551908606359032038579140338512379011543600342845954846225192259475479 : 427300930763014057637460448910591393594830939931107078993075313261542106547745032378697235413572381717522607419643843012637488511577295466786950446075344869379393954726853852179218680763393912901988149732697647769223596973354570482058619552613037534570082449200141325981712325190460407920329553505568779404005082 : 1)"]
Private key: 9182703054285069212801839788995827447862269259552384673086539370307675933136577881579084040216274836276296130420405532197522916754966495280254142755846603
```
